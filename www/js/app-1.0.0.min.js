angular.module("studentApp",["ionic","cordovaInit","loading","alert","studentApp.states","studentApp.controllers","studentApp.services"]),angular.module("studentApp.controllers",[]),angular.module("studentApp.services",[]),angular.module("studentApp.states",["ionic"]).config(["$stateProvider","$urlRouterProvider","$httpProvider",function(t,n,o){o.defaults.withCredentials=!0,t.state("tab",{url:"/tab","abstract":!0,templateUrl:"partials/tabs.html"}).state("tab.login",{url:"/login",views:{"tab-login":{templateUrl:"partials/tabs/login.html",controller:"LoginCtrl"}}}).state("tab.question",{url:"/question",views:{"tab-login":{templateUrl:"partials/tabs/question.html",controller:"QuestionCtrl"}}}),n.otherwise("/tab/login")}]),angular.module("studentApp.controllers").controller("LoginCtrl",["$scope","$state","student","loading",function(t,n,o,e){o.logout().catch(function(){console.log(arguments)}),t.login=function(t){e.load(),o.login(t).then(function(t){t.success?n.go("tab.question"):console.error(t)}).finally(e.unload)}}]),angular.module("studentApp.controllers").controller("QuestionCtrl",["$scope","$state","student","alert",function(t,n,o,e){t.data={},t.logout=function(){n.go("tab.login")},o.question().then(function(n){if(!n.question){var o="You have no new questions to answer. Check back again later!";return e(o).then(t.logout)}t.question=n.question}),t.submit=function(n){return null==n?e("You must select a value"):("Other"===n?n+=": "+t.data.other:n.Other&&(delete n.Other,n["Other: "+t.data.other]=!0),void o.answer(t.question._id,n).then(function(){t.logout()}).catch(function(t){console.error(t)}))}}]),angular.module("alert",["ionic"]).factory("alert",["$ionicPopup",function(t){return function(n){return t.alert({title:n})}}]),angular.module("cordovaInit",["ionic"]).run(["$ionicPlatform",function(t){t.ready(function(){window.cordova&&window.cordova.plugins.Keyboard&&cordova.plugins.Keyboard.hideKeyboardAccessoryBar(!0),window.StatusBar&&StatusBar.styleDefault()})}]),angular.module("loading",["ionic"]).factory("loading",["$ionicLoading",function(t){return{load:function(n){n=n||"Loading...",t.show({template:n})},unload:function(){t.hide()}}}]),angular.module("studentApp.services").factory("student",["$http","alert","$q",function(t,n,o){function e(t){return t.data}var r="http://localhost:3000/v1",u={};return t.get(r).error(function(){n("Could not connect to server")}),u.current=function(){return t.get(r+"/student/current").then(e)},u.login=function(n){return n?t.post(r+"/student/"+n+"/login").then(e):o(function(t,n){n(new Error("No UVID given"))})},u.logout=function(){return t.post(r+"/student/logout").then(e)},u.question=function(){return t.get(r+"/student/question").then(e)},u.answer=function(n,o){return"object"==typeof o&&(o=Object.keys(o).filter(function(t){return t})),t.post(r+"/student/answer/"+n,{value:o}).then(e)},u}]);
//# sourceMappingURL=../maps/app-1.0.0.min.js.map